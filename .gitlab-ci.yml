#stages:
#  - build
#
#build:
#  tags:
#    - ios-builder
#  stage: build
#  script:
#    - ./.ci/build.sh
#  only:
#    - merge_requests

stages:
  - test1
  - test2
  
variables:
  TDSCICD: tds_ci_cd

test1:
  tags:
    - ios-builder
  stage: test1
  script:
    - echo "test1"
    - echo $TDSCICD
    - echo $CI_COMMIT_TITLE
  rules:
    - if: $CI_COMMIT_TITLE =~ /-ios/
    - if: $CI_COMMIT_TITLE =~ /-mac/
    - if: $CI_COMMIT_TITLE =~ /-mobile/
    - if: $CI_COMMIT_TITLE =~ /-pc/
    - if: $CI_COMMIT_TITLE =~ /-all/



test2:
  tags:
    - ios-builder
  stage: test2
  script:
    - echo "test2"
    - echo $TDSCICD
    - echo $CI_COMMIT_TITLE
  rules:
    - if: $CI_COMMIT_TITLE =~ /-android/
    - if: $CI_COMMIT_TITLE =~ /-win/
    - if: $CI_COMMIT_TITLE =~ /-mobile/
    - if: $CI_COMMIT_TITLE =~ /-pc/
    - if: $CI_COMMIT_TITLE =~ /-all/
